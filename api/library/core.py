# * =============================================================================
# * BAZI CORE - THE 10 HEAVENLY STEMS & 12 EARTHLY BRANCHES
# * =============================================================================
# * This file contains ONLY the two fundamental variables: STEMS and BRANCHES.
# * All other data, patterns, and functions are derived from these in derived.py.
# * =============================================================================

# =============================================================================
# THE 10 HEAVENLY STEMS (天干)
# =============================================================================
# Each stem contains ALL its properties including element relationships.
# Element cycles (generating/controlling) can be derived from the element field.
STEMS = {
    "Jia": {
        "index": 0, "chinese": "甲", "element": "Wood", "polarity": "Yang",
        "color": "#c2d4be",
        "combines_with": "Ji", "combination_element": "Earth",
        "controls": "Wu", "controlled_by": "Geng",
        "ten_gods": {
            "Jia": ("F", "Friend", "比肩"),
            "Yi": ("RW", "Rob Wealth", "劫財"),
            "Bing": ("EG", "Eating God", "食神"),
            "Ding": ("HO", "Hurting Officer", "傷官"),
            "Wu": ("IW", "Indirect Wealth", "偏財"),
            "Ji": ("DW", "Direct Wealth", "正財"),
            "Geng": ("7K", "Seven Killings", "七殺"),
            "Xin": ("DO", "Direct Officer", "正官"),
            "Ren": ("IR", "Indirect Resource", "偏印"),
            "Gui": ("DR", "Direct Resource", "正印"),
        },
    },
    "Yi": {
        "index": 1, "chinese": "乙", "element": "Wood", "polarity": "Yin",
        "color": "#d6e2bb",
        "combines_with": "Geng", "combination_element": "Metal",
        "controls": "Ji", "controlled_by": "Xin",
        "ten_gods": {
            "Yi": ("F", "Friend", "比肩"),
            "Jia": ("RW", "Rob Wealth", "劫財"),
            "Ding": ("EG", "Eating God", "食神"),
            "Bing": ("HO", "Hurting Officer", "傷官"),
            "Ji": ("IW", "Indirect Wealth", "偏財"),
            "Wu": ("DW", "Direct Wealth", "正財"),
            "Xin": ("7K", "Seven Killings", "七殺"),
            "Geng": ("DO", "Direct Officer", "正官"),
            "Gui": ("IR", "Indirect Resource", "偏印"),
            "Ren": ("DR", "Direct Resource", "正印"),
        },
    },
    "Bing": {
        "index": 2, "chinese": "丙", "element": "Fire", "polarity": "Yang",
        "color": "#fca5a5",
        "combines_with": "Xin", "combination_element": "Water",
        "controls": "Geng", "controlled_by": "Ren",
        "ten_gods": {
            "Bing": ("F", "Friend", "比肩"),
            "Ding": ("RW", "Rob Wealth", "劫財"),
            "Wu": ("EG", "Eating God", "食神"),
            "Ji": ("HO", "Hurting Officer", "傷官"),
            "Geng": ("IW", "Indirect Wealth", "偏財"),
            "Xin": ("DW", "Direct Wealth", "正財"),
            "Ren": ("7K", "Seven Killings", "七殺"),
            "Gui": ("DO", "Direct Officer", "正官"),
            "Jia": ("IR", "Indirect Resource", "偏印"),
            "Yi": ("DR", "Direct Resource", "正印"),
        },
    },
    "Ding": {
        "index": 3, "chinese": "丁", "element": "Fire", "polarity": "Yin",
        "color": "#f9d3ad",
        "combines_with": "Ren", "combination_element": "Wood",
        "controls": "Xin", "controlled_by": "Gui",
        "ten_gods": {
            "Ding": ("F", "Friend", "比肩"),
            "Bing": ("RW", "Rob Wealth", "劫財"),
            "Ji": ("EG", "Eating God", "食神"),
            "Wu": ("HO", "Hurting Officer", "傷官"),
            "Xin": ("IW", "Indirect Wealth", "偏財"),
            "Geng": ("DW", "Direct Wealth", "正財"),
            "Gui": ("7K", "Seven Killings", "七殺"),
            "Ren": ("DO", "Direct Officer", "正官"),
            "Yi": ("IR", "Indirect Resource", "偏印"),
            "Jia": ("DR", "Direct Resource", "正印"),
        },
    },
    "Wu": {
        "index": 4, "chinese": "戊", "element": "Earth", "polarity": "Yang",
        "color": "#e6ceb7",
        "combines_with": "Gui", "combination_element": "Fire",
        "controls": "Ren", "controlled_by": "Jia",
        "ten_gods": {
            "Wu": ("F", "Friend", "比肩"),
            "Ji": ("RW", "Rob Wealth", "劫財"),
            "Geng": ("EG", "Eating God", "食神"),
            "Xin": ("HO", "Hurting Officer", "傷官"),
            "Ren": ("IW", "Indirect Wealth", "偏財"),
            "Gui": ("DW", "Direct Wealth", "正財"),
            "Jia": ("7K", "Seven Killings", "七殺"),
            "Yi": ("DO", "Direct Officer", "正官"),
            "Bing": ("IR", "Indirect Resource", "偏印"),
            "Ding": ("DR", "Direct Resource", "正印"),
        },
    },
    "Ji": {
        "index": 5, "chinese": "己", "element": "Earth", "polarity": "Yin",
        "color": "#efe3cc",
        "combines_with": "Jia", "combination_element": "Earth",
        "controls": "Gui", "controlled_by": "Yi",
        "ten_gods": {
            "Ji": ("F", "Friend", "比肩"),
            "Wu": ("RW", "Rob Wealth", "劫財"),
            "Xin": ("EG", "Eating God", "食神"),
            "Geng": ("HO", "Hurting Officer", "傷官"),
            "Gui": ("IW", "Indirect Wealth", "偏財"),
            "Ren": ("DW", "Direct Wealth", "正財"),
            "Yi": ("7K", "Seven Killings", "七殺"),
            "Jia": ("DO", "Direct Officer", "正官"),
            "Ding": ("IR", "Indirect Resource", "偏印"),
            "Bing": ("DR", "Direct Resource", "正印"),
        },
    },
    "Geng": {
        "index": 6, "chinese": "庚", "element": "Metal", "polarity": "Yang",
        "color": "#ccd8e6",
        "combines_with": "Yi", "combination_element": "Metal",
        "controls": "Jia", "controlled_by": "Bing",
        "ten_gods": {
            "Geng": ("F", "Friend", "比肩"),
            "Xin": ("RW", "Rob Wealth", "劫財"),
            "Ren": ("EG", "Eating God", "食神"),
            "Gui": ("HO", "Hurting Officer", "傷官"),
            "Jia": ("IW", "Indirect Wealth", "偏財"),
            "Yi": ("DW", "Direct Wealth", "正財"),
            "Bing": ("7K", "Seven Killings", "七殺"),
            "Ding": ("DO", "Direct Officer", "正官"),
            "Wu": ("IR", "Indirect Resource", "偏印"),
            "Ji": ("DR", "Direct Resource", "正印"),
        },
    },
    "Xin": {
        "index": 7, "chinese": "辛", "element": "Metal", "polarity": "Yin",
        "color": "#e6e8f7",
        "combines_with": "Bing", "combination_element": "Water",
        "controls": "Yi", "controlled_by": "Ding",
        "ten_gods": {
            "Xin": ("F", "Friend", "比肩"),
            "Geng": ("RW", "Rob Wealth", "劫財"),
            "Gui": ("EG", "Eating God", "食神"),
            "Ren": ("HO", "Hurting Officer", "傷官"),
            "Yi": ("IW", "Indirect Wealth", "偏財"),
            "Jia": ("DW", "Direct Wealth", "正財"),
            "Ding": ("7K", "Seven Killings", "七殺"),
            "Bing": ("DO", "Direct Officer", "正官"),
            "Ji": ("IR", "Indirect Resource", "偏印"),
            "Wu": ("DR", "Direct Resource", "正印"),
        },
    },
    "Ren": {
        "index": 8, "chinese": "壬", "element": "Water", "polarity": "Yang",
        "color": "#b9cbff",
        "combines_with": "Ding", "combination_element": "Wood",
        "controls": "Bing", "controlled_by": "Wu",
        "ten_gods": {
            "Ren": ("F", "Friend", "比肩"),
            "Gui": ("RW", "Rob Wealth", "劫財"),
            "Jia": ("EG", "Eating God", "食神"),
            "Yi": ("HO", "Hurting Officer", "傷官"),
            "Bing": ("IW", "Indirect Wealth", "偏財"),
            "Ding": ("DW", "Direct Wealth", "正財"),
            "Wu": ("7K", "Seven Killings", "七殺"),
            "Ji": ("DO", "Direct Officer", "正官"),
            "Geng": ("IR", "Indirect Resource", "偏印"),
            "Xin": ("DR", "Direct Resource", "正印"),
        },
    },
    "Gui": {
        "index": 9, "chinese": "癸", "element": "Water", "polarity": "Yin",
        "color": "#e0e9ff",
        "combines_with": "Wu", "combination_element": "Fire",
        "controls": "Ding", "controlled_by": "Ji",
        "ten_gods": {
            "Gui": ("F", "Friend", "比肩"),
            "Ren": ("RW", "Rob Wealth", "劫財"),
            "Yi": ("EG", "Eating God", "食神"),
            "Jia": ("HO", "Hurting Officer", "傷官"),
            "Ding": ("IW", "Indirect Wealth", "偏財"),
            "Bing": ("DW", "Direct Wealth", "正財"),
            "Ji": ("7K", "Seven Killings", "七殺"),
            "Wu": ("DO", "Direct Officer", "正官"),
            "Xin": ("IR", "Indirect Resource", "偏印"),
            "Geng": ("DR", "Direct Resource", "正印"),
        },
    },
}

# =============================================================================
# THE 12 EARTHLY BRANCHES (地支)
# =============================================================================
# Each branch contains ALL its properties, relationships, and metadata.
# Day Officers (十二建除) are embedded via dong_gong_index.
BRANCHES = {
    "Zi": {
        "index": 0, "chinese": "子", "element": "Water", "polarity": "Yang",
        "animal": "Rat", "color": "#b9cbff", "month": 11, "season": "Winter",
        "dong_gong_index": 10,
        "qi": [("Gui", 100)],
        "clashes": "Wu", "harmonizes": "Chou", "harmony_element": "Earth",
        "harms": "Wei", "harm_role": "victim",
        "destroys": "You",
        "three_combo": ("Shen", "Zi", "Chen", "Water"),
        "season_combo": ("Hai", "Zi", "Chou", "Water"),
        "self_punishment": False,
        # Winter (Water rules): Water=旺, Wood=相(Xiang), Metal=休, Earth=囚, Fire=死
        "element_states": {"Wood": "Strengthening", "Fire": "Dead", "Earth": "Trapped", "Metal": "Resting", "Water": "Prosperous"},
    },
    "Chou": {
        "index": 1, "chinese": "丑", "element": "Earth", "polarity": "Yin",
        "animal": "Ox", "color": "#efe3cc", "month": 12, "season": "Winter",
        "dong_gong_index": 11,
        "qi": [("Ji", 75), ("Gui", 25), ("Xin", 10)],
        "clashes": "Wei", "harmonizes": "Zi", "harmony_element": "Earth",
        "harms": "Wu", "harm_role": "victim",
        "destroys": "Chen",
        "three_combo": ("Si", "You", "Chou", "Metal"),
        "season_combo": ("Hai", "Zi", "Chou", "Water"),
        "punishment_group": ("Chou", "Wei", "Xu", "wu_li"),
        "self_punishment": False,
        "is_storage": True, "stored_element": "Metal", "stored_stem": "Xin", "opener": "Wei",
        # Earth* season (Earth rules): Earth=旺(Wang), Metal=相(Xiang), Fire=休(Xiu), Wood=囚(Qiu), Water=死(Si)
        "element_states": {"Wood": "Trapped", "Fire": "Resting", "Earth": "Prosperous", "Metal": "Strengthening", "Water": "Dead"},
    },
    "Yin": {
        "index": 2, "chinese": "寅", "element": "Wood", "polarity": "Yang",
        "animal": "Tiger", "color": "#c2d4be", "month": 1, "season": "Spring",
        "dong_gong_index": 0,
        "qi": [("Jia", 75), ("Bing", 25), ("Wu", 10)],
        "clashes": "Shen", "harmonizes": "Hai", "harmony_element": "Wood",
        "harms": "Si", "harm_role": "victim",
        "destroys": None,
        "three_combo": ("Yin", "Wu", "Xu", "Fire"),
        "season_combo": ("Yin", "Mao", "Chen", "Wood"),
        "punishment_group": ("Yin", "Si", "Shen", "shi"),
        "self_punishment": False,
        # Spring (Wood rules): Wood=旺, Fire=相, Water=休, Metal=囚, Earth=死
        "element_states": {"Wood": "Prosperous", "Fire": "Strengthening", "Earth": "Dead", "Metal": "Trapped", "Water": "Resting"},
    },
    "Mao": {
        "index": 3, "chinese": "卯", "element": "Wood", "polarity": "Yin",
        "animal": "Rabbit", "color": "#d6e2bb", "month": 2, "season": "Spring",
        "dong_gong_index": 1,
        "qi": [("Yi", 100)],
        "clashes": "You", "harmonizes": "Xu", "harmony_element": "Fire",
        "harms": "Chen", "harm_role": "victim",
        "destroys": "Wu",
        "three_combo": ("Hai", "Mao", "Wei", "Wood"),
        "season_combo": ("Yin", "Mao", "Chen", "Wood"),
        "punishment_pair": ("Zi", "en", "controller"),
        "self_punishment": False,
        # Spring (Wood rules): Wood=旺, Fire=相, Water=休, Metal=囚, Earth=死
        "element_states": {"Wood": "Prosperous", "Fire": "Strengthening", "Earth": "Dead", "Metal": "Trapped", "Water": "Resting"},
    },
    "Chen": {
        "index": 4, "chinese": "辰", "element": "Earth", "polarity": "Yang",
        "animal": "Dragon", "color": "#e6ceb7", "month": 3, "season": "Spring",
        "dong_gong_index": 2,
        "qi": [("Wu", 75), ("Yi", 25), ("Gui", 10)],
        "clashes": "Xu", "harmonizes": "You", "harmony_element": "Metal",
        "harms": "Mao", "harm_role": "controller",
        "destroys": "Chou",
        "three_combo": ("Shen", "Zi", "Chen", "Water"),
        "season_combo": ("Yin", "Mao", "Chen", "Wood"),
        "self_punishment": True,
        "self_punishment_nature": "Earth Dragon - stubborn pride leads to isolation",
        "is_storage": True, "stored_element": "Water", "stored_stem": "Gui", "opener": "Xu",
        # Earth* season (Earth rules): Earth=旺(Wang), Metal=相(Xiang), Fire=休(Xiu), Wood=囚(Qiu), Water=死(Si)
        "element_states": {"Wood": "Trapped", "Fire": "Resting", "Earth": "Prosperous", "Metal": "Strengthening", "Water": "Dead"},
    },
    "Si": {
        "index": 5, "chinese": "巳", "element": "Fire", "polarity": "Yin",
        "animal": "Snake", "color": "#f9d3ad", "month": 4, "season": "Summer",
        "dong_gong_index": 3,
        "qi": [("Bing", 75), ("Geng", 25), ("Wu", 10)],
        "clashes": "Hai", "harmonizes": "Shen", "harmony_element": "Water",
        "harms": "Yin", "harm_role": "controller",
        "destroys": None,
        "three_combo": ("Si", "You", "Chou", "Metal"),
        "season_combo": ("Si", "Wu", "Wei", "Fire"),
        "punishment_group": ("Yin", "Si", "Shen", "shi"),
        "self_punishment": False,
        # Summer (Fire rules): Fire=旺, Earth=相, Wood=休, Water=囚, Metal=死
        "element_states": {"Wood": "Resting", "Fire": "Prosperous", "Earth": "Strengthening", "Metal": "Dead", "Water": "Trapped"},
    },
    "Wu": {
        "index": 6, "chinese": "午", "element": "Fire", "polarity": "Yang",
        "animal": "Horse", "color": "#f3adae", "month": 5, "season": "Summer",
        "dong_gong_index": 4,
        "qi": [("Ding", 80), ("Ji", 20)],
        "clashes": "Zi", "harmonizes": "Wei", "harmony_element": "Fire",
        "harms": "Chou", "harm_role": "controller",
        "destroys": "Mao",
        "three_combo": ("Yin", "Wu", "Xu", "Fire"),
        "season_combo": ("Si", "Wu", "Wei", "Fire"),
        "self_punishment": True,
        "self_punishment_nature": "Fire Horse - restless energy burns itself out",
        # Summer (Fire rules): Fire=旺, Earth=相, Wood=休, Water=囚, Metal=死
        "element_states": {"Wood": "Resting", "Fire": "Prosperous", "Earth": "Strengthening", "Metal": "Dead", "Water": "Trapped"},
    },
    "Wei": {
        "index": 7, "chinese": "未", "element": "Earth", "polarity": "Yin",
        "animal": "Goat", "color": "#efe3cc", "month": 6, "season": "Summer",
        "dong_gong_index": 5,
        "qi": [("Ji", 75), ("Ding", 25), ("Yi", 10)],
        "clashes": "Chou", "harmonizes": "Wu", "harmony_element": "Fire",
        "harms": "Zi", "harm_role": "controller",
        "destroys": "Xu",
        "three_combo": ("Hai", "Mao", "Wei", "Wood"),
        "season_combo": ("Si", "Wu", "Wei", "Fire"),
        "punishment_group": ("Chou", "Wei", "Xu", "wu_li"),
        "self_punishment": False,
        "is_storage": True, "stored_element": "Wood", "stored_stem": "Yi", "opener": "Chou",
        # Earth* season (Earth rules): Earth=旺(Wang), Metal=相(Xiang), Fire=休(Xiu), Wood=囚(Qiu), Water=死(Si)
        "element_states": {"Wood": "Trapped", "Fire": "Resting", "Earth": "Prosperous", "Metal": "Strengthening", "Water": "Dead"},
    },
    "Shen": {
        "index": 8, "chinese": "申", "element": "Metal", "polarity": "Yang",
        "animal": "Monkey", "color": "#ccd8e6", "month": 7, "season": "Autumn",
        "dong_gong_index": 6,
        "qi": [("Geng", 75), ("Ren", 25), ("Wu", 10)],
        "clashes": "Yin", "harmonizes": "Si", "harmony_element": "Water",
        "harms": "Hai", "harm_role": "victim",
        "destroys": None,
        "three_combo": ("Shen", "Zi", "Chen", "Water"),
        "season_combo": ("Shen", "You", "Xu", "Metal"),
        "punishment_group": ("Yin", "Si", "Shen", "shi"),
        "self_punishment": False,
        # Autumn (Metal rules): Metal=旺, Water=相, Earth=休, Fire=囚, Wood=死
        "element_states": {"Wood": "Dead", "Fire": "Trapped", "Earth": "Resting", "Metal": "Prosperous", "Water": "Strengthening"},
    },
    "You": {
        "index": 9, "chinese": "酉", "element": "Metal", "polarity": "Yin",
        "animal": "Rooster", "color": "#e6e8f7", "month": 8, "season": "Autumn",
        "dong_gong_index": 7,
        "qi": [("Xin", 100)],
        "clashes": "Mao", "harmonizes": "Chen", "harmony_element": "Metal",
        "harms": "Xu", "harm_role": "victim",
        "destroys": "Zi",
        "three_combo": ("Si", "You", "Chou", "Metal"),
        "season_combo": ("Shen", "You", "Xu", "Metal"),
        "self_punishment": True,
        "self_punishment_nature": "Metal Rooster - perfectionism leads to self-criticism",
        # Autumn (Metal rules): Metal=旺, Water=相, Earth=休, Fire=囚, Wood=死
        "element_states": {"Wood": "Dead", "Fire": "Trapped", "Earth": "Resting", "Metal": "Prosperous", "Water": "Strengthening"},
    },
    "Xu": {
        "index": 10, "chinese": "戌", "element": "Earth", "polarity": "Yang",
        "animal": "Dog", "color": "#e6ceb7", "month": 9, "season": "Autumn",
        "dong_gong_index": 8,
        "qi": [("Wu", 75), ("Xin", 25), ("Ding", 10)],
        "clashes": "Chen", "harmonizes": "Mao", "harmony_element": "Fire",
        "harms": "You", "harm_role": "controller",
        "destroys": "Wei",
        "three_combo": ("Yin", "Wu", "Xu", "Fire"),
        "season_combo": ("Shen", "You", "Xu", "Metal"),
        "punishment_group": ("Chou", "Wei", "Xu", "wu_li"),
        "self_punishment": False,
        "is_storage": True, "stored_element": "Fire", "stored_stem": "Ding", "opener": "Chen",
        # Earth* season (Earth rules): Earth=旺(Wang), Metal=相(Xiang), Fire=休(Xiu), Wood=囚(Qiu), Water=死(Si)
        "element_states": {"Wood": "Trapped", "Fire": "Resting", "Earth": "Prosperous", "Metal": "Strengthening", "Water": "Dead"},
    },
    "Hai": {
        "index": 11, "chinese": "亥", "element": "Water", "polarity": "Yin",
        "animal": "Pig", "color": "#e0e9ff", "month": 10, "season": "Winter",
        "dong_gong_index": 9,
        "qi": [("Ren", 80), ("Jia", 20)],
        "clashes": "Si", "harmonizes": "Yin", "harmony_element": "Wood",
        "harms": "Shen", "harm_role": "controller",
        "destroys": None,
        "three_combo": ("Hai", "Mao", "Wei", "Wood"),
        "season_combo": ("Hai", "Zi", "Chou", "Water"),
        "self_punishment": True,
        "self_punishment_nature": "Water Pig - indulgence leads to self-harm",
        # Winter (Water rules): Water=旺, Wood=相(Xiang), Metal=休, Earth=囚, Fire=死
        "element_states": {"Wood": "Strengthening", "Fire": "Dead", "Earth": "Trapped", "Metal": "Resting", "Water": "Prosperous"},
    },
}
